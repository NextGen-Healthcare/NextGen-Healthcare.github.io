<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>NextGen Healthcare Network</title>
<meta name="description" content="Connecting the Next Generation of Healthcare Infrastructure Professionals" />
<link rel="icon" href="assets/img/favicon.svg">
<link rel="manifest" href="site.webmanifest">
<link rel="stylesheet" href="assets/css/style.css" />

<!-- Page-local polish and Events card styling to mirror the Events page -->
<style>
  :root { --radius: 14px; }

  /* --- Responsive media: make all images fit their containers --- */
  img, picture, svg, video, canvas { display:block; max-width:100%; height:auto; }

  /* Content image helper */
  .img-rounded {
    width:100%; height:auto; object-fit:cover;
    border-radius: calc(var(--radius) + 6px);
    box-shadow: 0 18px 40px rgba(0,0,0,.18);
  }

  /* Hero */
  .hero-image{ position:relative; min-height:70vh; background:url("assets/img/hero-healthcare.jpg") center/cover no-repeat; width:100%; }
  .hero-overlay{ position:absolute; inset:0; background:linear-gradient(180deg, rgba(20,14,52,.65), rgba(27,36,77,.75)); }
  .hero-inner{ position:relative; z-index:1; text-align:center; padding:6rem 1rem; color:#fff; }
  .hero-inner h1{ font-size:clamp(2rem,4vw,4rem); margin:0 0 .25rem; }
  .hero-inner .sub{ font-size:clamp(1.25rem,2.4vw,2rem); opacity:.95; margin:0 0 1rem; }
  .hero-inner .lead{ max-width:52rem; margin:0 auto 1.75rem; opacity:.9; }

  /* Animations */
  .animate-in{ opacity:0; transform:translateY(14px); animation:fadeUp .7s forwards ease; }
  .delay-150{ animation-delay:.15s; } .delay-300{ animation-delay:.3s; } .delay-500{ animation-delay:.5s; }
  @keyframes fadeUp{ to{ opacity:1; transform:none; } }

  /* Layout + cards */
  .section{ padding:4rem 0; }
  .container{ max-width:1120px; margin:0 auto; padding:0 1rem; }
  .grid-2{ display:grid; gap:2rem; grid-template-columns:1fr; }
  @media (min-width:900px){ .grid-2{ grid-template-columns:1.1fr .9fr; align-items:center; } }
  .bg-neutral-light{ background:#F5F5F6; }
  .bg-gradient-card{ background:linear-gradient(180deg,#F5F5F6,#C5D2DF22); }
  .bg-gradient-primary{ background:linear-gradient(135deg,#316598,#1B244D 70%); color:#fff; }
  .card{ background:#fff; border-radius:var(--radius); box-shadow:0 6px 20px rgba(0,0,0,.08); transition:transform .25s ease, box-shadow .25s; }
  .card:hover{ transform:translateY(-2px); box-shadow:0 10px 28px rgba(0,0,0,.12); }
  .card .card-pad{ padding:1.25rem; }
  .center{text-align:center;} .muted{opacity:.85;}
  .mb-0{ margin-bottom:0; }
  @media (prefers-reduced-motion:reduce){ .animate-in{animation:none; opacity:1; transform:none;} .card{transition:none;} }

  /* ======= HOME: Upcoming Events (match Events page look) ======= */

  .card-grid{ display:grid; gap:1.25rem; grid-template-columns:1fr; }
  @media (min-width:760px){ .card-grid{ grid-template-columns:repeat(2,1fr); } }
  @media (min-width:1080px){ .card-grid{ grid-template-columns:repeat(3,1fr); } }

  #home-events.card-grid > *{
    background:#fff; border-radius:var(--radius); box-shadow:0 6px 20px rgba(0,0,0,.08);
    overflow:hidden; transition:transform .25s ease, box-shadow .25s ease;
  }
  #home-events.card-grid > *:hover{ transform:translateY(-2px); box-shadow:0 10px 28px rgba(0,0,0,.12); }

  /* Accent strip */
  .h-2{ height:8px; }
  .bg-gradient-accent{ background:linear-gradient(90deg,#316598,#A1B7CD,#C5D2DF); }
  #home-events.card-grid > *:not(:has(.h-2))::before{
    content:""; display:block; height:8px; background:linear-gradient(90deg,#316598,#A1B7CD,#C5D2DF);
  }

  /* Inner padding */
  #home-events .p-6,
  #home-events .card-pad,
  #home-events.card-grid > * > .inner { padding:1.25rem; }

  /* Event meta line */
  .meta-line{ display:inline-flex; align-items:center; gap:.5rem; font-size:.9375rem; color:#316598; }

  /* Actions row for RSVP/Details (shared with global .card-actions in style.css if present) */
  .card-actions{ display:flex; gap:.5rem; flex-wrap:wrap; margin-top:.75rem; }
</style>
</head>
<body>
<a class="skip-link" href="#main">Skip to content</a>

<header class="site-header">
  <div class="container nav">
    <a class="brand" href="/">
      <img src="assets/img/logo.svg" alt="NextGen logo" width="36" height="36" />
      <span>NextGen Healthcare Network</span>
    </a>
    <button class="nav-toggle" aria-expanded="false" aria-controls="site-nav">Menu</button>
    <nav id="site-nav" class="site-nav" aria-label="Main">
      <ul>
        <li><a href="../index.html">Home</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="events.html">Events</a></li>
        <li><a href="sigs.html">SIGs</a></li>
        <!-- Removed Resources nav item but you can keep /pages/resources.html in the repo -->
        <li><a href="gallery.html">Gallery</a></li>
        <li><a href="community.html">Community</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>

    </nav>
  </div>
</header>

<main id="main" tabindex="-1">
  <!-- Hero -->
  <section class="hero hero-image" aria-label="Hero">
    <div class="hero-overlay" aria-hidden="true"></div>
    <div class="container hero-inner">
      <h1 class="animate-in">Connecting the Next Generation</h1>
      <p class="sub animate-in delay-150">of Healthcare Infrastructure Professionals</p>
      <p class="lead animate-in delay-300">
        Join a vibrant community of young professionals shaping the future of healthcare construction,
        development, and management across the UK.
      </p>
      <div class="cta-group animate-in delay-500" style="display:flex; gap:.75rem; flex-wrap:wrap; justify-content:center;">
        <a class="btn btn-hero size-xl" href="pages/community.html">Join the Network</a>
        <a class="btn btn-navy-outline size-xl" href="pages/events.html">See Upcoming Events</a>
      </div>
    </div>
  </section>

  <!-- About -->
  <section class="section bg-neutral-light" aria-label="About NextGen">
    <div class="container grid-2">
      <div>
        <h2 class="mt-0">Who We Are</h2>
        <p class="muted">
          NextGen Healthcare Network is a dynamic community of early to mid-career professionals working across the
          healthcare infrastructure sector.
        </p>
        <p class="muted">
          We bring together talent from construction, development, facilities management, and healthcare planning to share
          knowledge, build connections, and drive innovation in healthcare infrastructure.
        </p>

        <!-- Inline SVG icons (no external assets) -->
        <div class="grid-2" style="margin-top:1rem;">
          <!-- Active Members -->
          <div style="display:flex; gap:.75rem; align-items:center;">
            <div style="width:3rem;height:3rem;background:#316598;border-radius:.9rem;display:flex;align-items:center;justify-content:center;color:#fff;">
              <!-- Users/People -->
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <circle cx="8" cy="8" r="3" stroke="currentColor" stroke-width="2"/>
                <circle cx="16" cy="9" r="3" stroke="currentColor" stroke-width="2"/>
                <path d="M2 20c0-3.3 2.7-6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                <path d="M22 20c0-3.3-2.7-6-6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </div>
            <div>
              <p class="mb-0"><strong>500+</strong></p>
              <p class="mb-0 muted">Active Members</p>
            </div>
          </div>
          <!-- Partner Organisations -->
          <div style="display:flex; gap:.75rem; align-items:center;">
            <div style="width:3rem;height:3rem;background:#A1B7CD;border-radius:.9rem;display:flex;align-items:center;justify-content:center;color:#0e1a2f;">
              <!-- Partnership/Link -->
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M9 15l-1 1a5 5 0 0 1-7-7l2-2a5 5 0 0 1 7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M15 9l1-1a5 5 0 1 1 7 7l-2 2a5 5 0 0 1-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10 14l4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </div>
            <div>
              <p class="mb-0"><strong>50+</strong></p>
              <p class="mb-0 muted">Partner Organisations</p>
            </div>
          </div>
        </div>

        <div style="margin-top:1rem;">
          <a class="btn btn-hero btn-lg" href="pages/about.html">Learn More About Us</a>
        </div>
      </div>
      <div>
        <img class="img-rounded" src="assets/img/networking-event.jpg" alt="Healthcare professionals networking at an event">
      </div>
    </div>
  </section>

  <!-- Why Join -->
  <section class="section bg-gradient-card" aria-label="Why Join NextGen">
    <div class="container">
      <h2 class="center">Why Join NextGen?</h2>
      <p class="center muted" style="margin-bottom:2rem;">Grow your network, skills, and impact.</p>
      <div class="card-grid">
        <!-- Network & Connect -->
        <div class="center card"><div class="card-pad">
          <div style="width:3.5rem;height:3.5rem;background:#316598;border-radius:999px;margin:0 auto 1rem;display:flex;align-items:center;justify-content:center;color:#fff;">
            <!-- Link/Network -->
            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M9 15l-1 1a5 5 0 0 1-7-7l2-2a5 5 0 0 1 7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M15 9l1-1a5 5 0 1 1 7 7l-2 2a5 5 0 0 1-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M10 14l4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          <h3>Network &amp; Connect</h3>
          <p class="muted">Build meaningful relationships across public and private healthcare sectors.</p>
        </div></div>

        <!-- Learn & Grow -->
        <div class="center card"><div class="card-pad">
          <div style="width:3.5rem;height:3.5rem;background:#C5D2DF;border-radius:999px;margin:0 auto 1rem;display:flex;align-items:center;justify-content:center;color:#1B244D;">
            <!-- Lightbulb -->
            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 3a6 6 0 0 1 6 6c0 2.3-1.2 3.9-2.3 5.1-.6.6-.9 1.3-.9 2.4H9.2c0-1.1-.3-1.8-.9-2.4C7.2 12.9 6 11.3 6 9a6 6 0 0 1 6-6z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M9 18h6M10 21h4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          <h3>Learn &amp; Grow</h3>
          <p class="muted">Access resources, workshops, and insights from industry leaders.</p>
        </div></div>

        <!-- Shape the Future -->
        <div class="center card"><div class="card-pad">
          <div style="width:3.5rem;height:3.5rem;background:#A1B7CD;border-radius:999px;margin:0 auto 1rem;display:flex;align-items:center;justify-content:center;color:#0e1a2f;">
            <!-- Trend Up -->
            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M3 17l6-6 4 4 7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M17 8h4v4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <h3>Shape the Future</h3>
          <p class="muted">Contribute to SIGs driving innovation in healthcare infrastructure.</p>
        </div></div>
      </div>
    </div>
  </section>

  <!-- Upcoming Events (auto-rendered) -->
  <section class="section bg-neutral-light" aria-label="Upcoming Events">
    <div class="container">
      <div style="display:flex; align-items:center; justify-content:space-between; gap:1rem; margin-bottom:1.5rem;">
        <h2 class="mb-0">Upcoming Events</h2>
        <a class="btn btn-outline btn-lg" href="pages/events.html">View All Events</a>
      </div>

      <!-- JS injects here (top 3 future events) -->
      <div id="home-events" class="card-grid" data-limit="3" aria-live="polite"></div>

      <noscript>
        <div class="card-grid">
          <article>
            <div class="h-2 bg-gradient-accent" aria-hidden="true"></div>
            <div class="p-6">
              <h3 class="mb-0">Quarterly Network Meetup</h3>
              <p class="muted" style="margin:.5rem 0 1rem;">London • 6:00–8:00 PM</p>
              <p class="muted">Guest speakers and networking across NHS trusts and supply chain.</p>
            </div>
          </article>
          <article>
            <div class="h-2 bg-gradient-accent" aria-hidden="true"></div>
            <div class="p-6">
              <h3 class="mb-0">Coffee &amp; Construction</h3>
              <p class="muted" style="margin:.5rem 0 1rem;">Kings Cross • 8:00–9:30 AM</p>
              <p class="muted">Informal morning meetup on design and construction trends.</p>
            </div>
          </article>
          <article>
            <div class="h-2 bg-gradient-accent" aria-hidden="true"></div>
            <div class="p-6">
              <h3 class="mb-0">IHEEM Young Members</h3>
              <p class="muted" style="margin:.5rem 0 1rem;">Manchester • 5:30–7:30 PM</p>
              <p class="muted">Career development and industry insights for young members.</p>
            </div>
          </article>
        </div>
      </noscript>
    </div>
  </section>

  <!-- CTA -->
  <section class="section bg-gradient-primary" aria-label="Join CTA">
    <div class="container center">
      <h2 class="mt-0">Ready to Join the Network?</h2>
      <p class="muted" style="opacity:.95; color:#fff;">
        Connect with like-minded professionals and accelerate your career in healthcare infrastructure.
      </p>
      <div class="cta-group" style="margin-top:1rem; display:flex; gap:.75rem; flex-wrap:wrap; justify-content:center;">
        <a class="btn btn-primary size-xl" href="pages/community.html">Join Now</a>
        <a class="btn btn-outline size-xl" href="pages/contact.html">Get in Touch</a>
      </div>
    </div>
  </section>
</main>

<div data-include="/partials/footer.html"></div>

<!-- Hidden placeholders so shared events.js won’t error on Home -->
<div id="events-list" class="hidden" aria-hidden="true"></div>
<div id="events-empty" class="hidden" aria-hidden="true"></div>
<div id="event-modal-root" aria-hidden="true"></div>

<!-- Scripts -->
<script src="assets/js/events.js"></script>
<script src="assets/js/main.js"></script>

<!-- Home-only: render top N upcoming events + modal -->
<script>
(() => {
  const HOME_DATA_URL = "assets/data/events.json";
  const homeList = document.getElementById("home-events");
  if (!homeList) return;

  const limit = parseInt(homeList.getAttribute("data-limit"), 10) || 3;

  const escapeHTML = (s = "") =>
    s.replace(/[&<>"']/g, (ch) => ({ "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;" }[ch]));

  const formatDate = (iso) => {
    const d = new Date(iso);
    if (isNaN(d)) return iso || "";
    return d.toLocaleDateString(undefined, { day: "2-digit", month: "short", year: "numeric" });
  };

  const byId = (id) => document.getElementById(id);

  function buildCard(ev) {
    const id = ev.id || ("ev_" + Math.random().toString(36).slice(2,8));
    const hasLink = !!ev.link;
    return `
<article role="listitem" data-id="${escapeHTML(id)}">
  <div class="h-2 bg-gradient-accent" aria-hidden="true"></div>
  <div class="p-6">
    <h3 class="mb-0">
      <button class="event-title" data-id="${escapeHTML(id)}" aria-haspopup="dialog">
        ${escapeHTML(ev.title || "Untitled Event")}
      </button>
    </h3>
    <p class="meta-line" style="margin:.5rem 0 0;">
      <span aria-hidden="true">📅</span> ${formatDate(ev.date)}${ev.time ? " · " + escapeHTML(ev.time) : ""}
      &nbsp; <span aria-hidden="true">📍</span> ${escapeHTML(ev.location || "")}
    </p>
    <div class="card-actions">
      ${hasLink ? `<a class="btn btn-primary size-sm" href="${ev.link}" target="_blank" rel="noopener">RSVP</a>` : ""}
      <button class="btn btn-outline size-sm btn-details" data-id="${escapeHTML(id)}">Details</button>
    </div>
  </div>
</article>`;
  }

  function buildModalHTML(ev) {
    const id = ev.id || "unknown";
    const hasLink = !!ev.link;
    const details = ev.details || ev.short || "More details coming soon.";
    return `
<div class="event-modal-overlay" role="dialog" aria-modal="true" aria-labelledby="modal-title-${escapeHTML(id)}" data-modal-id="${escapeHTML(id)}">
  <div class="event-modal">
    <div class="h-2 bg-gradient-accent" aria-hidden="true"></div>
    <div class="modal-inner">
      <div class="modal-header">
        <h3 class="modal-title" id="modal-title-${escapeHTML(id)}">${escapeHTML(ev.title || "Event details")}</h3>
        <button class="modal-close" aria-label="Close">×</button>
      </div>
      <p class="modal-meta">
        <span aria-hidden="true">📅</span> ${formatDate(ev.date)}${ev.time ? " · " + escapeHTML(ev.time) : ""} &nbsp;
        <span aria-hidden="true">📍</span> ${escapeHTML(ev.location || "")} &nbsp;
        <span aria-hidden="true">🏷️</span> ${escapeHTML(ev.category || "other")}
      </p>
      <div class="modal-body">
        <p style="margin:0 0 1rem; opacity:.95;">${escapeHTML(details)}</p>
        ${ev.agenda ? `<h4>Agenda</h4><p>${escapeHTML(ev.agenda)}</p>` : ""}
        ${ev.speakers ? `<h4>Speakers</h4><p>${escapeHTML(ev.speakers)}</p>` : ""}
      </div>
      <div class="modal-actions">
        ${hasLink ? `<a class="btn btn-primary size-lg" href="${ev.link}" target="_blank" rel="noopener">RSVP / Event page</a>` : ""}
        <button class="btn btn-outline size-lg modal-close">Close</button>
      </div>
    </div>
  </div>
</div>`;
  }

  let HOME_EVENTS = [];
  let BY_ID = {};
  let lastFocus = null;

  function openModal(ev) {
    const modalRoot = byId("event-modal-root");
    if (!modalRoot) return;
    closeModal();
    modalRoot.innerHTML = buildModalHTML(ev);
    modalRoot.removeAttribute("aria-hidden");

    const overlay = modalRoot.querySelector(".event-modal-overlay");
    const closeBtns = modalRoot.querySelectorAll(".modal-close");
    lastFocus = document.activeElement;

    function onEsc(e){ if (e.key === "Escape") closeModal(); }
    function onOverlayClick(e){ if (e.target === overlay) closeModal(); }

    closeBtns.forEach(b => b.addEventListener("click", closeModal));
    document.addEventListener("keydown", onEsc);
    overlay.addEventListener("click", onOverlayClick);
    overlay._cleanup = () => {
      document.removeEventListener("keydown", onEsc);
      overlay.removeEventListener("click", onOverlayClick);
    };

    // Focus first close button
    closeBtns[0]?.focus({ preventScroll: true });
  }

  function closeModal() {
    const modalRoot = byId("event-modal-root");
    const overlay = modalRoot?.querySelector(".event-modal-overlay");
    if (!overlay) return;
    if (typeof overlay._cleanup === "function") overlay._cleanup();
    modalRoot.innerHTML = "";
    modalRoot.setAttribute("aria-hidden", "true");
    if (lastFocus && typeof lastFocus.focus === "function") lastFocus.focus({ preventScroll: true });
    lastFocus = null;
  }

  function wireHomeInteractions() {
    homeList.addEventListener("click", (e) => {
      const titleBtn = e.target.closest(".event-title");
      const detailsBtn = e.target.closest(".btn-details");
      const id = titleBtn?.getAttribute("data-id") || detailsBtn?.getAttribute("data-id");
      if (!id) return;
      e.preventDefault();
      const ev = BY_ID[id];
      if (ev) openModal(ev);
    });
  }

  function renderHome() {
    const today = new Date();
    const upcoming = HOME_EVENTS
      .filter(ev => !isNaN(new Date(ev.date)))
      .filter(ev => new Date(ev.date) >= new Date(today.toDateString()))
      .sort((a,b) => new Date(a.date) - new Date(b.date))
      .slice(0, limit);

    homeList.innerHTML = upcoming.map(buildCard).join("") || `<p class="muted">No upcoming events. <a href="pages/events.html">See all events</a></p>`;
  }

  function initWith(events) {
    HOME_EVENTS = Array.isArray(events) ? events : [];
    BY_ID = Object.fromEntries(HOME_EVENTS.map(ev => [ev.id || ("ev_" + Math.random().toString(36).slice(2,8)), ev]));
    renderHome();
    wireHomeInteractions();
  }

  // Prefer data from shared file if already loaded; otherwise fetch directly
  function bootstrap() {
    if (Array.isArray(window.NEXTGEN_EVENTS) && window.NEXTGEN_EVENTS.length) {
      initWith(window.NEXTGEN_EVENTS);
    } else {
      fetch(HOME_DATA_URL, { cache: "no-store" })
        .then(r => r.ok ? r.json() : [])
        .then(data => initWith(data))
        .catch(() => initWith([]));
    }
  }

  bootstrap();
})();
</script>
</body>
</html>
